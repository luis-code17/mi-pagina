<html>
   
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent("faigclick", {
        init: function() {  
         this.el.addEventListener("click", (e) => {  
		//busquem l’element que té com a ide panel
            var sceneEl = document.querySelector('#panel');
		//el fem visible
            sceneEl.setAttribute('visible', true);                
           })
        }
      })
    </script>

  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">

        <a-assets>
            <a-asset-item id="sala" src="museu/sala/scene.gltf"></a-asset-item>
            <a-asset-item id="emperador" src="emperador/scene.gltf"></a-asset-item>
            <img id="pedra" src="piedra.png"></a-asset-item>
        </a-assets>
            <a-entity camera look-controls wasd-controls="false">
                <!-- fuseTimeout = el temps que triga en fer click des de que es posiciona sobre un objecte-->
                 <a-entity cursor="fuse: true; fuseTimeout: 2000"
                       position="0 0 -1"
                       geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                       material="color: red; shader: flat"
                       animation="property: components.material.material.color;
                             type: color;
                             to: white;
                             dur: 1000;
                             dir: alternate;
                             loop: true">
                 </a-entity>
                </a-entity>

        <a-entity gltf-model="#sala" position="2 -1 0" rotation="0 90 0" scale="1 1 1"></a-entity>
        <a-entity gltf-model="#emperador" position="-0.4 0.7 -1.9" rotation="0 90 0" scale="1.4 1.4 1.4"
        animation="property: position; dur: 2000; from: -0.4 0.7 -1.9; to: -0.4 0.8 -1.9; dir: alternate; loop: true"  faigclick">
        </a-entity>
        <a-cylinder  src="#pedra" radius="0.2" height="2" position="0.2 -1 -2"></a-cylinder>
    </a-scene>
  </body>
</html>
